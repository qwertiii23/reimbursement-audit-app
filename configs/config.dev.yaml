# 应用配置
app:
  name: "reimbursement-audit"
  version: "1.0.0"
  env: "development"  # development, staging, production
  debug: true

# 服务器配置
server:
  host: "0.0.0.0"
  port: 8080
  read_timeout: 30s
  write_timeout: 30s
  idle_timeout: 120s
  mode: "debug"  # debug, release, test
  tls: false
  cert_file: ""
  key_file: ""

# 数据库配置
database:
  host: "localhost"
  port: 3306
  username: "root"
  password: "password"
  dbname: "reimbursement_audit"
  charset: "utf8mb4"
  collation: "utf8mb4_unicode_ci"
  parse_time: true
  loc: "Local"
  max_open_conns: 25
  max_idle_conns: 5
  conn_max_lifetime: 1h
  conn_max_idle_time: 10m

# 日志配置
logger:
  level: "debug"  # debug, info, warn, error, fatal
  format: "text"  # json, text
  output: "stdout"  # stdout, stderr, file
  filename: "logs/app.log"
  max_size: 100  # MB
  max_backups: 3
  max_age: 28  # days
  compress: true

# 文件存储配置
storage:
  type: "local"  # local, s3, oss
  local:
    base_path: "./uploads"
  s3:
    access_key: ""
    secret_key: ""
    region: ""
    bucket: ""
    endpoint: ""
  oss:
    access_key: ""
    secret_key: ""
    region: ""
    bucket: ""
    endpoint: ""

# OCR配置
ocr:
  provider: "tencent"  # tencent
  secret_id: ""        # 腾讯云SecretId
  secret_key: ""       # 腾讯云SecretKey
  region: "ap-beijing" # 腾讯云地域
  timeout: 30          # 超时时间(秒)
  max_retries: 3       # 最大重试次数

# RAG配置
rag:
  enabled: true
  model: "gpt-3.5-turbo"
  api_key: ""
  api_base: ""
  max_tokens: 1000
  temperature: 0.7
  embedding_model: "text-embedding-ada-002"
  vector_db:
    type: "chroma"  # chroma, pinecone, weaviate
    host: "localhost"
    port: 8000
    collection_name: "reimbursement_docs"

# 认证配置
auth:
  enabled: true
  secret_key: "your-secret-key"
  expire_hours: 24
  issuer: "reimbursement-audit"

# 限流配置
rate_limit:
  enabled: true
  requests_per_minute: 60
  burst: 10

# CORS配置
cors:
  enabled: true
  allow_origins:
    - "http://localhost:3000"
    - "http://localhost:8080"
  allow_methods:
    - "GET"
    - "POST"
    - "PUT"
    - "DELETE"
    - "OPTIONS"
  allow_headers:
    - "Origin"
    - "Content-Type"
    - "Accept"
    - "Authorization"
  expose_headers: []
  allow_credentials: true
  max_age: 86400  # seconds

# 监控配置
monitoring:
  enabled: true
  prometheus:
    enabled: true
    path: "/metrics"
  jaeger:
    enabled: false
    service_name: "reimbursement-audit"
    agent_host: "localhost"
    agent_port: 6831
  health_check:
    enabled: true
    path: "/health"
  ready_check:
    enabled: true
    path: "/ready"